<div class="row border-bottom pb-4">
  <div class="col-7 panel mx-2">
    <alto-dropdown-filter
      class="float-end mx-2 float-end"
      [data]="teams"
      [selectedItems]="selectedTeams"
      [displayLabel]="'label'"
      [placeholder]="I18ns.statistics.globalPerformance.perTeamPerformance.teamFilter"
      (selectChange)="filterTeams($event)"
    ></alto-dropdown-filter>
    <h2>{{ I18ns.statistics.globalPerformance.perTeamPerformance.scoreEvolution.title }}</h2>
    <p>{{ I18ns.statistics.globalPerformance.perTeamPerformance.scoreEvolution.subtitle }}</p>
    <div class="chart-container">
      <canvas id="teamScoreEvolution"></canvas>
    </div>
  </div>

  <div *ngIf="scoredTeams.length <= 10; else leaderboardFull" class="col-4 panel mx-2">
    <i
      class="fs-5 bi bi-question-circle float-end"
      placement="top"
      ngbTooltip="{{ I18ns.statistics.globalPerformance.perTeamPerformance.leaderboard.tooltip }}"
    ></i>
    <h2>{{ I18ns.statistics.globalPerformance.perTeamPerformance.leaderboard.title }}</h2>
    <ol class="list-group list-group-flush list-group-numbered">
      <li class="list-group-item" *ngFor="let team of scoredTeams">
        <alto-progression-badge class="float-end" [score]="team.score"></alto-progression-badge>
        {{ team.label }}
      </li>
    </ol>
  </div>
  <ng-template #leaderboardFull>
    <div class="col-4 panel mx-2">
      <h2>{{ I18ns.statistics.globalPerformance.perTeamPerformance.leaderboard.top }}</h2>
      <ol class="list-group list-group-flush list-group-numbered">
        <li class="list-group-item" *ngFor="let team of scoredTeams.slice(0, 5)">
          <alto-progression-badge class="float-end" [score]="team.score"></alto-progression-badge>
          {{ team.label }}
        </li>
      </ol>
      <h2>{{ I18ns.statistics.globalPerformance.perTeamPerformance.leaderboard.flop }}</h2>
      <ol class="list-group list-group-flush list-group-numbered">
        <li
          class="list-group-item"
          *ngFor="let team of scoredTeams.slice(scoredTeams.length - 5, scoredTeams.length)"
        >
          <alto-progression-badge class="float-end" [score]="team.score"></alto-progression-badge>
          {{ team.label }}
        </li>
      </ol>
    </div>
  </ng-template>
</div>
