<form *ngIf="form" [formGroup]="form">
  <div class="row">
    <div class="col-4">
      <label class="form-label required">{{ I18ns.programs.forms.step1.name }}</label>
      <p class="fs-7">{{ I18ns.programs.forms.step1.nameSubtitle }}</p>
    </div>
    <div class="col-6">
      <input
        type="text"
        class="form-control"
        formControlName="name"
        placeholder="{{ I18ns.programs.forms.step1.namePlaceholder }}"
      />
    </div>
  </div>
  <hr />
  <div class="row">
    <div class="col-4">
      <label class="form-label">{{ I18ns.programs.forms.step1.description }}</label>
      <p class="fs-7">{{ I18ns.programs.forms.step1.descriptionSubtitle }}</p>
    </div>
    <div class="col-6">
      <textarea
        class="form-control"
        rows="5"
        formControlName="description"
        placeholder="{{ I18ns.programs.forms.step1.descriptionPlaceholder }}"
      ></textarea>
    </div>
  </div>
  <hr *ngIf="!isEdit" />
  <div *ngIf="!isEdit" class="row">
    <div class="col-4">
      <label class="form-label required">{{ I18ns.programs.forms.step1.tags }}</label>
      <p class="fs-7">{{ I18ns.programs.forms.step1.tagsSubtitle }}</p>
    </div>
    <div class="col-6">
      <ng-select
        required
        [items]="tags"
        [multiple]="true"
        bindValue="id"
        bindLabel="name"
        [placeholder]="I18ns.programs.forms.step1.tagsPlaceholder"
        [selectableGroup]="true"
        [closeOnSelect]="false"
        formControlName="tags"
      >
        <ng-template ng-label-tmp let-item="item" let-clear="clear">
          <div class="badge rounded-pill p-2" [style.backgroundColor]="item.id | uuid2color">
            <span class="cursor-pointer me-1" (click)="clear(item)" aria-hidden="true">
              <i class="bi bi-x-lg"></i>
            </span>
            <span>{{ item.name }}</span>
          </div>
        </ng-template>
        <ng-template ng-option-tmp let-item="item" let-index="index" let-search="searchTerm">
          <span class="badge rounded-pill p-2" [style.backgroundColor]="item.id | uuid2color">
            {{ item.name }}
          </span>
        </ng-template>
      </ng-select>
    </div>
  </div>
  <hr />
  <div class="row">
    <div class="col-4">
      <label class="form-label">{{ I18ns.programs.forms.step1.teams }}</label>
      <p class="fs-7">{{ I18ns.programs.forms.step1.teamsSubtitle }}</p>
    </div>
    <div class="col-6">
      <ng-select
        [items]="teams"
        [multiple]="true"
        bindLabel="name"
        [placeholder]="I18ns.programs.forms.step1.teamsPlaceholder"
        [selectableGroup]="true"
        [closeOnSelect]="false"
        bindValue="id"
        formControlName="teams"
      >
        <ng-template ng-label-tmp let-item="item" let-clear="clear">
          <div class="badge rounded-pill p-2" [style.backgroundColor]="item.id | uuid2color">
            <span class="cursor-pointer me-1" (click)="clear(item)" aria-hidden="true">
              <i class="bi bi-x-lg"></i>
            </span>
            <span>{{ item.shortName }}</span>
          </div>
        </ng-template>
        <ng-template ng-option-tmp let-item="item" let-index="index" let-search="searchTerm">
          <span class="badge rounded-pill p-2" [style.backgroundColor]="item.id | uuid2color">
            {{ item.longName }}
          </span>
        </ng-template>
      </ng-select>
    </div>
  </div>
  <hr />
  <div class="row">
    <div class="col-4">
      <label class="form-label required">{{ I18ns.programs.forms.step1.priority }}</label>
      <p class="fs-7">{{ I18ns.programs.forms.step1.prioritySubtitle }}</p>
    </div>
    <div class="col-6">
      <ng-select
        [items]="priorities"
        bindLabel="value"
        [placeholder]="I18ns.programs.forms.step1.priorityPlaceholder"
        [selectableGroup]="true"
        [closeOnSelect]="false"
        bindValue="id"
        formControlName="priority"
      >
      </ng-select>
    </div>
  </div>
  <hr />
  <div class="row">
    <div class="col-4">
      <label class="form-label required">{{ I18ns.programs.forms.step1.expectation }}</label>
      <p class="fs-7">{{ I18ns.programs.forms.step1.expectationSubtitle }}</p>
    </div>
    <div class="col-6">
      <input type="range" class="form-range" min="1" max="100" formControlName="expectation" />
      <p class="text-center">{{ form.controls.expectation.value }}%</p>
    </div>
  </div>
  <hr />
</form>
